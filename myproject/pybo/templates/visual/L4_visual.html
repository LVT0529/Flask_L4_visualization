{% extends 'base.html' %}
{% block content %}
<!-- index.html -->

<!DOCTYPE html>
<html>
  <head>
    <title>AfreecaTV L4 Management</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-router@3.5.2/dist/vue-router.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuedraggable@2.24.3/dist/vuedraggable.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

    <link rel="apple-touch-icon" href="/docs/5.1/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/5.1/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/5.1/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/5.1/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/5.1/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
    <link rel="icon" href="/docs/5.1/assets/img/favicons/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">



  <body>


    <div class="wrapper d-flex align-items-stretch">
			<nav id="sidebar">

	  		<h1></h1>
        <ul class="list-unstyled components mb-5">
          <li class="active">
            <a href="{{ url_for('visual._visual') }}"><span class="fa fa-home mr-3"></span> Homepage</a>
          </li>
          <!--
          <li>
              <a href="#"><span class="fas fa-users"></span>  Connections</a>
          </li>
          -->
          <li>
            <a href="{{ url_for('visual._visual_data') }}"><span class="fas fa-sync-alt mr-3"></span>Data_refresh</a>
          </li>
        </ul>

    	</nav>




      <div class="treeview-animated w-20 border mx-4 my-4" style="padding: 20px 20px 20px 20px">

            <h4>Wideip &nbsp Record &nbsp State &nbsp LBmod &nbsp Return_Code_On_Failure</h4>

            <br>
            <ul class="treeview-animated-list mb-3 list-unstyled">
              {% for w_node in wideip_data %}
              <li class="treeview-animated-items">
                {% if w_node.wideip_status == 'green' %}
                  <i class="fas fa-check-circle text-success"></i>
                {% elif w_node.wideip_status == 'red' %}
                  <i class="fas fa-times-circle text-danger"></i>
                {% else %}
                  <i class="fas fa-question-circle text-primary"></i>
                {% endif %}
                <span class="wideip">{{w_node.wideip}} &nbsp {{w_node.wideip_record}}  &nbsp {{w_node.wideip_en}} &nbsp {{w_node.wideip_lbmod}} &nbsp {{w_node.wideip_rcof}} &nbsp  </span>
              </li>

                  {% for wp_node in wp_mapp_data %}
                    {% if w_node.wideip == wp_node.wideip %}
                      <li class="treeview-animated-items">

                      {% for p_node in pool_data %}
                        {% if wp_node.pool == p_node.pool %}
                          <a class="closed">
                            <i class="fas fa-angle-right"></i>
                              {% if p_node.pool_status == 'green' %}
                                <i class="fas fa-check-circle text-success"></i>
                              {% elif p_node.pool_status == 'red' %}
                                <i class="fas fa-times-circle text-danger"></i>
                              {% else %}
                                <i class="fas fa-question-circle text-primary"></i>
                              {% endif %}
                              <span>{{p_node.pool}} &nbsp {{p_node.pool_ttl}} &nbsp {{p_node.pool_en}} &nbsp {{p_node.pool_lbmod}} &nbsp {{p_node.pool_alter}} &nbsp {{p_node.pool_fallback}} &nbsp {{p_node.pool_avail}}</span>
                          </a>

                          {% for ppmbr_node in ppmbr_mapp_data %}
                            {% if ppmbr_node.pool == p_node.pool %}
                              <li>
                                <div class="treeview-animated-element">
                                  &nbsp &nbsp
                                  <i class="fas fa-circle"></i>
                                  {% if 'Available' in ppmbr_node.poolmbr_status %}
                                    <i class="fas fa-check-circle text-success"></i>
                                  {% elif 'disabled' in ppmbr_node.poolmbr_status %}
                                    <i class="fas fa-times-circle text-danger"></i>
                                  {% elif 'reset' in ppmbr_node.poolmbr_status %}
                                    <i class="fas fa-times-circle text-danger"></i>
                                  {% elif 'Checking' in ppmbr_node.poolmbr_status %}
                                    <i class="fas fa-question-circle text-primary"></i>
                                  {% endif %}

                                  {{ppmbr_node.poolmbr}}
                              </li>
                            {% endif %}
                          {% endfor %}


                        {% endif %}
                      {% endfor %}


                    {% endif %}
                  {% endfor %}

              <br>
              {% endfor %}
            </ul>

      </div>

    </div>

  </body>
</html>

{% endblock %}
